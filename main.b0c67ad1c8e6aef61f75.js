(()=>{"use strict";var t={619:(t,e,n)=>{n.r(e),n.d(e,{default:()=>r});var a=n(81),i=n.n(a),o=n(645),s=n.n(o)()(i());s.push([t.id,".header{min-height:80px;display:flex;align-items:center}.header__container{display:flex;justify-content:space-between;align-items:center}.header__buttons{width:100%;max-width:320px;display:flex;justify-content:space-between;gap:10px}.header__logo{font-size:30px}\n",""]);const r=s},3:(t,e,n)=>{n.r(e),n.d(e,{default:()=>r});var a=n(81),i=n.n(a),o=n(645),s=n.n(o)()(i());s.push([t.id,".main{flex:1;display:flex}.main__container{height:inherit}\n",""]);const r=s},610:(t,e,n)=>{n.r(e),n.d(e,{default:()=>r});var a=n(81),i=n.n(a),o=n(645),s=n.n(o)()(i());s.push([t.id,".modal{position:absolute;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center}.modal__container{max-width:450px;width:100%;height:100px;background:#fff;padding:25px 20px;position:relative;animation:zoomIn .3s;border-radius:8px}.modal__close{position:absolute;top:10px;right:12px;transition:.3s}.modal__close:hover{opacity:.6}.modal__message{display:flex;align-items:center;justify-content:center;height:100%}@keyframes zoomIn{0%{opacity:0;-webkit-transform:scale3d(0.3, 0.3, 0.3);transform:scale3d(0.3, 0.3, 0.3)}50%{opacity:1}}\n",""]);const r=s},809:(t,e,n)=>{n.r(e),n.d(e,{default:()=>k});var a=n(81),i=n.n(a),o=n(645),s=n.n(o),r=n(667),l=n.n(r),d=new URL(n(990),n.b),c=new URL(n(413),n.b),u=new URL(n(719),n.b),h=new URL(n(95),n.b),p=new URL(n(347),n.b),m=new URL(n(878),n.b),g=new URL(n(68),n.b),f=new URL(n(567),n.b),v=new URL(n(75),n.b),w=new URL(n(649),n.b),b=s()(i()),y=l()(d),x=l()(c),_=l()(u),C=l()(h),L=l()(p),S=l()(m),T=l()(g),A=l()(f),P=l()(v),N=l()(w);b.push([t.id,'/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */html{line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0}main{display:block}h1{font-size:2em;margin:0}hr{box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace, monospace;font-size:1em}a{background-color:transparent}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace, monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-0.25em}sup{top:-0.5em}img{border-style:none}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}button,[type="button"],[type="reset"],[type="submit"]{-webkit-appearance:button}button::-moz-focus-inner,[type="button"]::-moz-focus-inner,[type="reset"]::-moz-focus-inner,[type="submit"]::-moz-focus-inner{border-style:none;padding:0}button:-moz-focusring,[type="button"]:-moz-focusring,[type="reset"]:-moz-focusring,[type="submit"]:-moz-focusring{outline:calc($px / 16px)0rem dotted ButtonText}fieldset{padding:0;margin:0;border:none}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{vertical-align:baseline}textarea{overflow:auto}[type="checkbox"],[type="radio"]{box-sizing:border-box;padding:0}[type="number"]::-webkit-inner-spin-button,[type="number"]::-webkit-outer-spin-button{height:auto}[type="search"]{-webkit-appearance:textfield;outline-offset:calc($px / 16px)0rem}[type="search"]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details{display:block}summary{display:list-item}template{display:none}[hidden]{display:none}@font-face{font-family:\'Lato-Bold\';src:url('+y+");src:url("+y+') format("woff2"),url('+x+") format(\"woff\");font-weight:600;font-style:normal}@font-face{font-family:'Lato-Regular';src:url("+_+");src:url("+_+') format("woff2"),url('+C+") format(\"woff\");font-weight:400;font-style:normal}@font-face{font-family:'Montserrat-Bold';src:url("+L+");src:url("+L+') format("woff2"),url('+S+") format(\"woff\");font-weight:600;font-style:normal}@font-face{font-family:'Montserrat-Medium';src:url("+T+");src:url("+T+') format("woff2"),url('+A+") format(\"woff\");font-weight:500;font-style:normal}@font-face{font-family:'Montserrat-Regular';src:url("+P+");src:url("+P+') format("woff2"),url('+N+') format("woff");font-weight:400;font-style:normal}*{box-sizing:border-box}html{font-family:"Lato-Bold" , Arial, sans-serif;font-size:16px;font-size:16px}html,body{min-height:100vh}body{font-size:16px;position:relative;color:#111827;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:flex;flex-direction:column;color:#333b41;background:#f1ffff;height:100vh}.container{width:98%;height:100%;margin:0 auto;display:flex;position:relative;padding:0 1%}h1,h2,h3,h4,h5,h6{margin-top:0;font-weight:normal}table{border-collapse:collapse;border-spacing:0}ul{padding:0;margin:0}ul li{list-style:none}p{margin:0;padding:0}footer{position:relative;width:100%}button{background:transparent;border:none;cursor:pointer;color:inherit}input::-webkit-inner-spin-button,input::-webkit-outer-spin-button{-webkit-appearance:none;margin:0px}a{text-decoration:none;color:#111827}fieldset{padding:0;margin:0;border:none}.button{font-family:"Lato-Bold" , Arial, sans-serif;width:100%;height:40px;font-size:1.2rem;display:flex;align-items:center;justify-content:center;padding:0;border:1px solid #e7e7e7;border-radius:8px;box-shadow:2px 2px 0 #d0d0d0;background:#fff;transition:.5s;user-select:none}.button:hover{background:#ffeac8}.button:disabled{pointer-events:none;color:#d0d0d0}@keyframes burg2top{0%{}20%{margin-top:0em;transform:rotate(0deg)}60%{margin-top:0em;transform:rotate(55deg)}100%{margin-top:0em;transform:rotate(45deg)}}@keyframes burg2bottom{0%{}20%{margin-top:0em;transform:rotate(0deg)}60%{margin-top:0em;transform:rotate(-55deg)}100%{margin-top:0em;transform:rotate(-45deg)}}@keyframes burg2topReset{0%{margin-top:0em;transform:rotate(45deg)}20%{transform:rotate(0deg)}60%{margin-top:6px;transform:rotate(0deg)}100%{margin-top:4px;transform:rotate(0deg)}}@keyframes burg2bottomReset{0%{margin-top:0em;transform:rotate(-45deg)}20%{transform:rotate(0deg)}60%{margin-top:-6px;transform:rotate(0deg)}100%{margin-top:-4px;transform:rotate(0deg)}}@keyframes zoomIn{0%{opacity:0;-webkit-transform:scale3d(0.3, 0.3, 0.3);transform:scale3d(0.3, 0.3, 0.3)}50%{opacity:1}}\n',""]);const k=b},78:(t,e,n)=>{n.r(e),n.d(e,{default:()=>r});var a=n(81),i=n.n(a),o=n(645),s=n.n(o)()(i());s.push([t.id,".car-item{height:80px;display:flex;flex-direction:column;margin-bottom:25px}.car-item:last-child{margin-bottom:0}.car-item__row{display:flex;align-items:center;margin-bottom:5px}.car-item__row:last-child{margin-bottom:0}.car-item__button{width:100px;margin-right:10px}.car-item__name{margin-left:30px}.car-item__play-pause{width:32px;height:32px;margin-right:10px}.car-item__play-pause:disabled{opacity:.5}.icon-container{width:100%;position:relative}.car-icon{width:70px;height:45px;position:relative;bottom:-4px}.play-icon,.pause-icon{width:16px;height:16px;fill:#333b41}.road{position:absolute;bottom:0;left:0;right:0;border-bottom:2px dotted #333b41;width:100%}.road__flag{position:absolute;top:0;right:100px}.flag-icon__color{stroke:#333b41}\n",""]);const r=s},953:(t,e,n)=>{n.r(e),n.d(e,{default:()=>r});var a=n(81),i=n.n(a),o=n(645),s=n.n(o)()(i());s.push([t.id,".car-list{display:flex;flex-direction:column;margin-top:10px}.car-list__list{margin-top:15px}\n",""]);const r=s},995:(t,e,n)=>{n.r(e),n.d(e,{default:()=>r});var a=n(81),i=n.n(a),o=n(645),s=n.n(o)()(i());s.push([t.id,".car-count{font-size:1.3rem}\n",""]);const r=s},283:(t,e,n)=>{n.r(e),n.d(e,{default:()=>r});var a=n(81),i=n.n(a),o=n(645),s=n.n(o)()(i());s.push([t.id,".options{width:320px;display:flex;flex-direction:column;gap:10px}.options__row{display:flex;justify-content:space-between;align-items:center}.options__input-text{width:150px;height:40px;display:flex;align-items:center;justify-content:center;padding:auto;font-size:14px;padding-left:10px;border:1px solid #e7e7e7;border-radius:8px;box-shadow:2px 2px 0 #d0d0d0;background:#fff;transition:.5s;outline:none}.options__input-text:hover{background:#ffeac8}.options__input-text:focus::-webkit-input-placeholder{color:transparent}.options__input-text:focus::-moz-placeholder{color:transparent}.options__input-text:focus:-ms-input-placeholder{color:transparent}.options__input-color{-webkit-appearance:none;border:none;background:transparent;width:40px;height:40px;border-radius:50%;overflow:hidden;outline:none;cursor:pointer}.options__input-color::-webkit-color-swatch{border:none;border-radius:50%;padding:0}.options__input-color::-moz-focus-inner{border:none;padding:0;border-radius:50%}.options__input-color::-moz-color-swatch{border:none;border-radius:50%}.options__button{width:100px}\n",""]);const r=s},38:(t,e,n)=>{n.r(e),n.d(e,{default:()=>r});var a=n(81),i=n.n(a),o=n(645),s=n.n(o)()(i());s.push([t.id,".pagination{display:flex;width:320px;align-items:center;justify-content:space-between;gap:20px;margin-top:25px}\n",""]);const r=s},428:(t,e,n)=>{n.r(e),n.d(e,{default:()=>r});var a=n(81),i=n.n(a),o=n(645),s=n.n(o)()(i());s.push([t.id,".winners-pagination{max-width:320px;width:100%;display:flex;align-items:center;justify-content:space-between;gap:20px;margin-top:25px}\n",""]);const r=s},637:(t,e,n)=>{n.r(e),n.d(e,{default:()=>r});var a=n(81),i=n.n(a),o=n(645),s=n.n(o)()(i());s.push([t.id,".winners-table{display:flex;flex-direction:column}.winners-table__title-row{display:grid;grid-template-columns:30px 80px 170px 70px 100px;justify-items:center;margin-bottom:10px}.winners-table__time-title{transition:.3s;cursor:pointer}.winners-table__time-title:hover{opacity:.5}.winners-table__wins-title{transition:.3s;cursor:pointer}.winners-table__wins-title:hover{opacity:.5}\n",""]);const r=s},858:(t,e,n)=>{n.r(e),n.d(e,{default:()=>r});var a=n(81),i=n.n(a),o=n(645),s=n.n(o)()(i());s.push([t.id,".winner-icon{width:100%;display:flex;justify-content:center;align-items:center}.winner-icon__svg{width:50px;height:35px}\n",""]);const r=s},648:(t,e,n)=>{n.r(e),n.d(e,{default:()=>r});var a=n(81),i=n.n(a),o=n(645),s=n.n(o)()(i());s.push([t.id,'.winner-item{display:grid;grid-template-columns:30px 80px 170px 70px 100px;justify-items:center;align-items:center;height:50px;font-family:"Lato-Regular" , Arial, sans-serif}.winner-item__name{text-align:center}\n',""]);const r=s},572:(t,e,n)=>{n.r(e),n.d(e,{default:()=>r});var a=n(81),i=n.n(a),o=n(645),s=n.n(o)()(i());s.push([t.id,".winners-page__count{font-size:1.3rem;margin-bottom:15px}\n",""]);const r=s},587:(t,e,n)=>{n.r(e),n.d(e,{default:()=>r});var a=n(81),i=n.n(a),o=n(645),s=n.n(o)()(i());s.push([t.id,".garage-page{width:100%;display:flex;flex-direction:column}.garage__content{margin-top:20px}.garage__pagination{margin-top:auto;margin-bottom:10px}\n",""]);const r=s},109:(t,e,n)=>{n.r(e),n.d(e,{default:()=>r});var a=n(81),i=n.n(a),o=n(645),s=n.n(o)()(i());s.push([t.id,".winners-page{width:100%}.winners-page__titles{margin-bottom:20px}\n",""]);const r=s},645:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",a=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),a&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),a&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,a,i,o){"string"==typeof t&&(t=[[null,t,void 0]]);var s={};if(a)for(var r=0;r<this.length;r++){var l=this[r][0];null!=l&&(s[l]=!0)}for(var d=0;d<t.length;d++){var c=[].concat(t[d]);a&&s[c[0]]||(void 0!==o&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=o),n&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=n):c[2]=n),i&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=i):c[4]="".concat(i)),e.push(c))}},e}},667:t=>{t.exports=function(t,e){return e||(e={}),t?(t=String(t.__esModule?t.default:t),/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),e.hash&&(t+=e.hash),/["'() \t\n]|(%20)/.test(t)||e.needQuotes?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t):t}},81:t=>{t.exports=function(t){return t[1]}},379:t=>{var e=[];function n(t){for(var n=-1,a=0;a<e.length;a++)if(e[a].identifier===t){n=a;break}return n}function a(t,a){for(var o={},s=[],r=0;r<t.length;r++){var l=t[r],d=a.base?l[0]+a.base:l[0],c=o[d]||0,u="".concat(d," ").concat(c);o[d]=c+1;var h=n(u),p={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==h)e[h].references++,e[h].updater(p);else{var m=i(p,a);a.byIndex=r,e.splice(r,0,{identifier:u,updater:m,references:1})}s.push(u)}return s}function i(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,i){var o=a(t=t||[],i=i||{});return function(t){t=t||[];for(var s=0;s<o.length;s++){var r=n(o[s]);e[r].references--}for(var l=a(t,i),d=0;d<o.length;d++){var c=n(o[d]);0===e[c].references&&(e[c].updater(),e.splice(c,1))}o=l}}},569:t=>{var e={};t.exports=function(t,n){var a=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(n)}},216:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},565:(t,e,n)=>{t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},795:t=>{t.exports=function(t){var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var a="";n.supports&&(a+="@supports (".concat(n.supports,") {")),n.media&&(a+="@media ".concat(n.media," {"));var i=void 0!==n.layer;i&&(a+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),a+=n.css,i&&(a+="}"),n.media&&(a+="}"),n.supports&&(a+="}");var o=n.sourceMap;o&&"undefined"!=typeof btoa&&(a+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleTagTransform(a,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},589:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},413:(t,e,n)=>{t.exports=n.p+"assets/fonts/Lato-Bold.woff"},990:(t,e,n)=>{t.exports=n.p+"assets/fonts/Lato-Bold.woff2"},95:(t,e,n)=>{t.exports=n.p+"assets/fonts/Lato-Regular.woff"},719:(t,e,n)=>{t.exports=n.p+"assets/fonts/Lato-Regular.woff2"},878:(t,e,n)=>{t.exports=n.p+"assets/fonts/Montserrat-Bold.woff"},347:(t,e,n)=>{t.exports=n.p+"assets/fonts/Montserrat-Bold.woff2"},567:(t,e,n)=>{t.exports=n.p+"assets/fonts/Montserrat-Medium.woff"},68:(t,e,n)=>{t.exports=n.p+"assets/fonts/Montserrat-Medium.woff2"},649:(t,e,n)=>{t.exports=n.p+"assets/fonts/Montserrat-Regular.woff"},75:(t,e,n)=>{t.exports=n.p+"assets/fonts/Montserrat-Regular.woff2"}},e={};function n(a){var i=e[a];if(void 0!==i)return i.exports;var o=e[a]={id:a,exports:{}};return t[a](o,o.exports,n),o.exports}n.m=t,n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var a in e)n.o(e,a)&&!n.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t;n.g.importScripts&&(t=n.g.location+"");var e=n.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var a=e.getElementsByTagName("script");a.length&&(t=a[a.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=t})(),n.b=document.baseURI||self.location.href,n.nc=void 0;var a={};(()=>{n.r(a);var t=n(379),e=n.n(t),i=n(795),o=n.n(i),s=n(569),r=n.n(s),l=n(565),d=n.n(l),c=n(216),u=n.n(c),h=n(589),p=n.n(h),m=n(809),g={};g.styleTagTransform=p(),g.setAttributes=d(),g.insert=r().bind(null,"head"),g.domAPI=o(),g.insertStyleElement=u(),e()(m.default,g),m.default&&m.default.locals&&m.default.locals;var f=n(619),v={};v.styleTagTransform=p(),v.setAttributes=d(),v.insert=r().bind(null,"head"),v.domAPI=o(),v.insertStyleElement=u(),e()(f.default,v),f.default&&f.default.locals&&f.default.locals;class w{constructor(t,e){const n=document.createElement(e.tagName);e.classList&&n.classList.add(...e.classList),e.content&&(n.textContent=e.content),t&&t.appendChild(n),this.node=n}}class b extends w{constructor(t,e){super(t,{tagName:e.tagName,classList:e.classList,content:e.content}),e.id&&(this.node.id=e.id),e.type&&this.node.setAttribute("type",e.type),e.disabled&&(this.node.disabled=e.disabled)}}class y extends w{constructor(t){super(t,{tagName:"header",classList:["header"]}),this.container=new w(this.node,{tagName:"div",classList:["container","header__container"]}),this.headerButtons=new w(this.container.node,{tagName:"div",classList:["header__buttons"]}),this.garageButton=new b(this.headerButtons.node,{tagName:"button",classList:["button"],content:"garage"}),this.winnersButton=new b(this.headerButtons.node,{tagName:"button",classList:["button"],content:"winners"}),this.headerLogo=new w(this.container.node,{tagName:"h1",classList:["header__logo"],content:"Async-race"})}}var x=n(3),_={};_.styleTagTransform=p(),_.setAttributes=d(),_.insert=r().bind(null,"head"),_.domAPI=o(),_.insertStyleElement=u(),e()(x.default,_),x.default&&x.default.locals&&x.default.locals;class C extends w{constructor(t){super(t,{tagName:"main",classList:["main"]}),this.mainContainer=new w(this.node,{tagName:"div",classList:["container","main__container"]}),this.container=this.mainContainer.node}}class L{constructor(t,e,n){this.routes=t,this.container=e,this.nestedRoute=this.isGithub(),this.addListeners(n),this.loadInitialRoute()}loadRoute(...t){const e=this.matchUrlToRoute(t),n=this.nestedRoute+`${t.join("/")}`;history.pushState({},"",n),this.container.innerHTML="",this.container.append(e?e.template.node:this.routes[0].template.node)}matchUrlToRoute(t){return this.routes.find((e=>{const n=e.path.split("/").slice(1);return n.length===t.length&&n.every(((e,n)=>e===t[n]))}))}loadInitialRoute(){const t=this.nestedRoute.length>1?this.getPathnameSplit():window.location.pathname.split("/"),e=t.length>1?t.slice(1):"";this.loadRoute(...e)}addListeners(t){t.forEach(((t,e)=>t.node.addEventListener("click",(()=>this.loadRoute(this.routes[e].path.slice(1))))))}getPathnameSplit(){return window.location.pathname.replace("/chervyakov-vladislav-JSFE2022Q3/async-race/","/")}isGithub(){return window.location.hostname.includes("github")?"/chervyakov-vladislav-JSFE2022Q3/async-race/":"/"}}var S=n(587),T={};T.styleTagTransform=p(),T.setAttributes=d(),T.insert=r().bind(null,"head"),T.domAPI=o(),T.insertStyleElement=u(),e()(S.default,T),S.default&&S.default.locals&&S.default.locals;class A extends w{constructor(t,e){super(t,{tagName:e.tagName,classList:e.classList,content:e.content}),e.id&&(this.node.id=e.id)}}class P extends A{constructor(t){super(null,{tagName:"div",classList:[t],id:t})}}var N=n(283),k={};k.styleTagTransform=p(),k.setAttributes=d(),k.insert=r().bind(null,"head"),k.domAPI=o(),k.insertStyleElement=u(),e()(N.default,k),N.default&&N.default.locals&&N.default.locals;class B extends w{constructor(t,e){super(t,{tagName:e.tagName,classList:e.classList,content:e.content}),this._value="",e.type&&this.node.setAttribute("type",e.type),e.name&&this.node.setAttribute("name",e.name),e.placeholder&&this.node.setAttribute("placeholder",e.placeholder),e.required&&(this.node.required=!0),e.selected&&(this.node.selected=!0),e.min&&this.node.setAttribute("min",e.min),e.max&&this.node.setAttribute("max",e.max),e.value&&(this.node.setAttribute("value",e.value),this._value=e.value),e.checked&&(this.node.checked=e.checked),e.readonly&&(this.node.readOnly=e.readonly)}set value(t){"string"==typeof t&&(this._value=t),"number"==typeof t&&(this._value=t.toString()),this.node.value=this._value}get value(){return this._value}}var M=function(t,e,n,a){return new(n||(n=Promise))((function(i,o){function s(t){try{l(a.next(t))}catch(t){o(t)}}function r(t){try{l(a.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,r)}l((a=a.apply(t,e||[])).next())}))};const I=new class{constructor(){this.baseUrl="https://async-race-gfmt.onrender.com",this.garage=`${this.baseUrl}/garage`,this.engine=`${this.baseUrl}/engine`,this.winners=`${this.baseUrl}/winners`}getCars(t=1,e=7){return M(this,void 0,void 0,(function*(){const n=yield fetch(`${this.garage}?_limit=${e}&_page=${t}`),a=yield n.json();return 200===n.status?{cars:a,count:n.headers.get("X-Total-Count")||"0"}:null}))}getCar(t){return M(this,void 0,void 0,(function*(){const e=yield fetch(`${this.garage}/${t}`),n=yield e.json();return 200===e.status?n:null}))}createCar(t){return M(this,void 0,void 0,(function*(){yield fetch(`${this.garage}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})}))}deleteCar(t){return M(this,void 0,void 0,(function*(){yield fetch(`${this.garage}/${t}`,{method:"DELETE"})}))}updateCar(t){return M(this,void 0,void 0,(function*(){yield fetch(`${this.garage}/${t.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})}))}startEngine(t){return M(this,void 0,void 0,(function*(){const e=yield fetch(`${this.engine}?id=${t}&status=started`,{method:"PATCH"}),n=yield e.json();return{status:e.status,res:n}}))}stopEngine(t){return M(this,void 0,void 0,(function*(){return(yield fetch(`${this.engine}?id=${t}&status=stopped`,{method:"PATCH"})).status}))}isBroken(t){return M(this,void 0,void 0,(function*(){return yield fetch(`${this.engine}?id=${t}&status=drive`,{method:"PATCH"})}))}getAllWinners(t,e="time",n="ASC",a=10){return M(this,void 0,void 0,(function*(){const i=yield fetch(`${this.winners}?_page=${t}&_limit=${a}&_sort=${e}&_order=${n}`);return{result:yield i.json(),totalCount:i.headers.get("X-Total-Count")||"0"}}))}getWinner(t){return M(this,void 0,void 0,(function*(){const e=yield fetch(`${this.winners}/${t}`),n=yield e.json();return{status:e.status,result:n}}))}createWinner(t){return M(this,void 0,void 0,(function*(){return(yield fetch(`${this.winners}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).status}))}updateWinner(t){return M(this,void 0,void 0,(function*(){yield fetch(`${this.winners}/${t.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})}))}deleteWinner(t){return M(this,void 0,void 0,(function*(){yield fetch(`${this.winners}/${t}`,{method:"DELETE"})}))}};const D=new class{constructor(){this.allData={carsPage:1,cars:null,carsCount:0,winnersPage:1,winnersCount:0,sortBy:"time",sortOrder:"ASC",updateID:0,animation:{},time:0,distance:0}}updateGarageState(t){return e=this,n=void 0,i=function*(){const e=yield I.getCars(t);this.allData.cars=null==e?void 0:e.cars,this.allData.carsCount=Number(null==e?void 0:e.count)},new((a=void 0)||(a=Promise))((function(t,o){function s(t){try{l(i.next(t))}catch(t){o(t)}}function r(t){try{l(i.throw(t))}catch(t){o(t)}}function l(e){var n;e.done?t(e.value):(n=e.value,n instanceof a?n:new a((function(t){t(n)}))).then(s,r)}l((i=i.apply(e,n||[])).next())}));var e,n,a,i}getAnimationID(t){return this.allData.animation[t]}setAnimationID(t,e){this.allData.animation[t]=e}getTime(){return this.allData.time}setTime(t){this.allData.time=t}getSortType(){return this.allData.sortBy}setSortType(t){this.allData.sortBy=t}getSortOrder(){return this.allData.sortOrder}setSortOrder(t){this.allData.sortOrder=t}getCarsPage(){return this.allData.carsPage}setCarsPage(t){this.allData.carsPage=t}getWinnersPage(){return this.allData.winnersPage}setWinnersPage(t){this.allData.winnersPage=t}};var E=n(78),z={};z.styleTagTransform=p(),z.setAttributes=d(),z.insert=r().bind(null,"head"),z.domAPI=o(),z.insertStyleElement=u(),e()(E.default,z),E.default&&E.default.locals&&E.default.locals;class R extends w{constructor(t,e="#000"){super(t,{tagName:"div",classList:["icon-container"]}),this.node.innerHTML=`<svg class="car-icon" viewBox="0 0 640 512" xmlns="http://www.w3.org/2000/svg">\n      <path fill="${e}" d="M544 192h-16L419.22 56.02A64.025 64.025 0 0 0 369.24 32H155.33c-26.17 0-49.7 15.93-59.42 40.23L48 194.26C20.44 201.4 0 226.21 0 256v112c0\n      8.84 7.16 16 16 16h48c0 53.02 42.98 96 96 96s96-42.98 96-96h128c0 53.02 42.98 96 96 96s96-42.98 96-96h48c8.84 0 16-7.16 16-16v-80c0-53.02-42.98-96-96-96zM160\n      432c-26.47 0-48-21.53-48-48s21.53-48 48-48 48 21.53 48 48-21.53 48-48 48zm72-240H116.93l38.4-96H232v96zm48 0V96h89.24l76.8 96H280zm200\n      240c-26.47 0-48-21.53-48-48s21.53-48 48-48 48 21.53 48 48-21.53 48-48 48z"/></svg>`,this.decoration=new w(this.node,{tagName:"div",classList:["road"]}),this.flag=new w(this.node,{tagName:"div",classList:["road__flag"]}),this.flag.node.innerHTML='<svg class="flag-icon" enable-background="new 0 0 50 50" height="50px" id="Layer_1" version="1.1" viewBox="0 0 50 50" width="50px" xml:space="preserve"\n    xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><rect fill="none" height="50" width="50"/>\n    <line class="flag-icon__color" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" stroke-width="2" x1="18.594" x2="3.373"\n    y1="47.92" y2="5.407"/><path d="  M4.448,8.409c0,0,5.911-6.409,16.179-6.409c6.25,0,9.106,4.073,14.264,4.073C40.046,6.073,44.998,2,44.998,2v26.471 \n    c0,0-3.723,2.037-8.146,2.037c-4.421,0-6.225-2.037-12.217-2.037c-5.683,0-11.025,5.516-11.025,5.516L4.448,8.409z" fill="none"\n    class="flag-icon__color" stroke-linecap="round"\n    stroke-linejoin="round" stroke-miterlimit="10" stroke-width="2"/><path d="M4.448,8.409c0,0,3.067-3.248,7.207-4.584l3.164,8.124c0,0-4.086,1.47-7.422,4.605L4.553,8.709"/>\n    <path d="M14.819,11.949l3.412,8.759c0,0,2.683-0.954,4.53-0.954s3.678,0.271,3.678,0.271l-2.477-9.315c0,0-0.7-0.099-1.563-0.099\n    C18.264,10.611,14.819,11.949,14.819,11.949z"/><path d="M10.72,25.776l2.89,8.21c0,0,3.997-3.832,7.804-4.91l-3.182-8.368C14.566,22.12,10.72,25.776,10.72,25.776z"/>\n    <path d="M21.676,2.111l2.287,8.598c1.85,0,6.994,2.521,6.994,2.521l-2.028-8.879C27.766,3.916,24.721,2.255,21.676,2.111z"/>\n    <path d="M26.439,20.024l2.355,8.851c1.186,0,4.586,1.449,6.065,1.449l-1.988-8.702C30.957,21.124,27.859,20.223,26.439,20.024z"/>\n    <path d="M30.957,13.231l1.915,8.392c0,0,1.916,0.354,3.231,0.354c1.314,0,2.953-0.298,2.953-0.298l-0.622-7.684 \n    c0,0-1.269,0.394-2.807,0.394C33.225,14.389,30.957,13.231,30.957,13.231z"/>\n    <path d="M37.762,5.671l0.673,8.323c0,0,3.129-0.786,6.565-3.384L44.998,2C41.053,5.022,37.762,5.671,37.762,5.671z"/>\n    <path d="M39.057,21.679c0,0,3.014-0.559,5.941-2.259v9.051c-3.117,1.496-5.261,1.767-5.261,1.767L39.057,21.679z"/></svg>'}}class W extends w{constructor(t,e){super(t,{tagName:"li",classList:["car-item"]}),this.row=new w(this.node,{tagName:"div",classList:["car-item__row"]}),this.select=new b(this.row.node,{tagName:"button",classList:["button","car-item__button"],content:"select"}),this.remove=new b(this.row.node,{tagName:"button",classList:["button","car-item__button"],content:"remove"}),this.carName=new w(this.row.node,{tagName:"div",classList:["car-item__name"],content:e.name}),this.row=new w(this.node,{tagName:"div",classList:["car-item__row"]}),this.play=new b(this.row.node,{tagName:"button",classList:["button","car-item__play-pause"]}),this.play.node.innerHTML='<svg class="play-icon" height="512px" id="Layer_1" style="enable-background:new 0 0 512 512;" version="1.1"\n    viewBox="0 0 512 512" width="512px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <path d="M405.2,232.9L126.8,67.2c-3.4-2-6.9-3.2-10.9-3.2c-10.9,0-19.8,9-19.8,20H96v344h0.1c0,11,8.9,20,19.8,20\n    c4.1,0,7.5-1.4,11.2-3.4l278.1-165.5c6.6-5.5,10.8-13.8,10.8-23.1C416,246.7,411.8,238.5,405.2,232.9z"/></svg>',this.pause=new b(this.row.node,{tagName:"button",classList:["button","car-item__play-pause"],disabled:!0}),this.pause.node.innerHTML='<svg class="pause-icon" height="48" viewBox="0 0 48 48" width="48" xmlns="http://www.w3.org/2000/svg">\n    <path d="M12 38h8V10h-8v28zm16-28v28h8V10h-8z"/><path d="M0 0h48v48H0z" fill="none"/></svg>',this.icon=new R(this.row.node,e.color),st.appendCarItemLiseners(this,e)}}const $=new class{constructor(){this.prevGarageButton=null,this.nextGarageButton=null,this.counter=null}nextGaragePage(){const t=D.getCarsPage()+1;D.setCarsPage(t),H.raceButton.disabled=!1,H.renderCars()}prevGaragePage(){const t=D.getCarsPage()-1;D.setCarsPage(t),H.raceButton.disabled=!1,H.renderCars()}checkGarageButtonStyles(){const t=this.prevGarageButton,e=this.nextGarageButton,n=D.getCarsPage(),a=Math.ceil(D.allData.carsCount/7);t.disabled=1===n,e.disabled=n===a||D.allData.carsCount<8,this.counter.innerText=`Page: ${n}`}removeToPrevPage(){const t=D.getCarsPage(),e=D.allData.cars.length;1!==t&&0===e&&(D.setCarsPage(t-1),H.raceButton.disabled=!1,H.renderCars())}};var G=function(t,e,n,a){return new(n||(n=Promise))((function(i,o){function s(t){try{l(a.next(t))}catch(t){o(t)}}function r(t){try{l(a.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,r)}l((a=a.apply(t,e||[])).next())}))};const H=new class{constructor(){this.container=null,this.carItem=null,this.createCarButton=null,this.counter=null,this.raceButton=null}renderCars(){return G(this,void 0,void 0,(function*(){const t=D.getCarsPage();yield D.updateGarageState(t),$.checkGarageButtonStyles();const e=this.container,n=D.allData.cars;e.innerHTML="",st.carItemArr=n.map((t=>new W(e,t)))}))}updateCounter(){return G(this,void 0,void 0,(function*(){const t=D.getCarsPage();yield D.updateGarageState(t);const e=this.counter,n=this.raceButton;e.innerText=String(D.allData.carsCount),n.disabled=D.allData.carsCount<2}))}},O=["Abarth","Alfa Romeo","Aston Martin","Audi","Bentley","BMW","Bugatti","Cadillac","Chevrolet","Chrysler","Citroën","Dacia","Daewoo","Daihatsu","Dodge","Donkervoort","DS","Ferrari","Fiat","Fisker","Ford","Honda","Hummer","Hyundai","Infiniti","Iveco","Jaguar","Jeep","Kia","KTM","Lada","Lamborghini","Lancia","Land Rover","Landwind","Lexus","Lotus","Maserati","Maybach","Mazda","McLaren","Mercedes-Benz","MG","Mini","Mitsubishi","Morgan","Nissan","Opel","Peugeot","Porsche","Renault","Rolls-Royce","Rover","Saab","Seat","Skoda","Smart","SsangYong","Subaru","Suzuki","Tesla","Toyota","Volkswagen","Volvo"],j=["CL","CSX","EL","ILX","Integra","Legend","MDX","NSX","RDX","RL","RLX","RSX","SLX","TL","TLX","TSX","ZDX","C3 Picasso","C4","C4 Aircross","C4 Cactus","C4 Picasso","C4 SpaceTourer","C5","C5 Aircross","C5 X","C6","C8","CX","DS","DS3","DS4","DS5","Dyane","E-Mehari","Evasion","GS","Jumpy","LN","Nemo","Saxo","SM","SpaceTourer","Traction Avant","Visa","Xantia","XM","Xsara","Xsara Picasso","ZX","AD","Almera","Almera Classic","Almera Tino","Altima","Ariya","Armada","Auster","Avenir","Bassara","BE-1","Bluebird","Bluebird Maxima","Bluebird Sylphy","Caravan","Cedric","Cefiro","Cherry","Cima","Clipper Rio","Crew","Cube","Datsun","Dayz","Dayz Roox","Dualis","Elgrand","Exa","Expert","Fairlady Z","Figaro","Fuga","Gloria","GT-R","Homy","Hypermini","Juke","Juke Nismo","Kicks","Kix","Lafesta","Langley","Largo","Latio","Laurel","Leaf","Leopard","Liberta Villa","Liberty","Livina","Lucino","March","Maxima","Micra","Mistral","Moco","Murano","Navara (Frontier)","Note","NP300","NV100 Clipper","NV200","NV300","NV350 Caravan","NX Coupe","Otti","2000GT","4Runner","Allex","Allion","Alphard","Altezza","Aqua","Aristo","Aurion","Auris","Avalon","Avanza","Avensis","Avensis Verso","Aygo","Aygo X","bB","Belta","Blade","Blizzard","Brevis","bZ4X","C-HR","Caldina","Cami","Camry","Camry Solara","Carina","Carina E","Carina ED","Cavalier","Celica","Celsior","Century","Chaser","Classic","Comfort","COMS","Corolla","Corolla Cross","Corolla II","Corolla Levin","Corolla Rumion","Corolla Spacio","Corolla Verso","Corona","Corona EXiV","Corsa","Cressida","Cresta","Crown","Crown Majesta","Curren","Cynos","Duet","Echo","Esquire","Estima","Etios","FJ Cruiser","Fortuner","FunCargo","Gaia","GR86","Grand HiAce","Granvia","GT86","Harrier","HiAce","Highlander","Hilux","Hilux Surf","Innova","Ipsum","iQ","ISis","Ist","Kluger","Land Cruiser","Land Cruiser Prado","Lite Ace","Mark II","Mark X","Mark X ZiO","MasterAce Surf","Matrix","Mega Cruiser","Mirai","Model F","MR-S","MR2","Nadia","Noah","Opa","Origin","Paseo","Passo","Passo Sette","Picnic","Pixis Epoch","Pixis Joy","Pixis Mega","Pixis Space","Pixis Van","Platz","Porte","Premio","Previa","Prius","Prius Alpha","Prius c","Prius v (+)","ProAce","ProAce City","Probox","Progres","Pronard","Publica","Ractis","Raize","Raum","RAV4","Regius","RegiusAce","Roomy","Rush","Sai","Scepter","Sequoia","Sera","Sienna","Sienta","Soarer","Soluna","Spade","Sparky","Sports 800","Sprinter","Sprinter Carib","Sprinter Marino","Sprinter Trueno","Starlet","Succeed","Supra","Tacoma","Tank","Tercel","Touring HiAce","Town Ace","Tundra","Urban Cruiser","Vanguard","Vellfire","Venza","Verossa","Verso","Verso-S","Vios","Vista","Vitz","Voltz","Voxy","WiLL","WiLL Cypha","Windom","Wish"];var V=function(t,e,n,a){return new(n||(n=Promise))((function(i,o){function s(t){try{l(a.next(t))}catch(t){o(t)}}function r(t){try{l(a.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,r)}l((a=a.apply(t,e||[])).next())}))};const X=new class{constructor(){this.animationId=0}animation(t,e,n){return V(this,void 0,void 0,(function*(){const a=Math.floor(e.distance/e.velocity),i=t.firstChild,o=D.allData.distance,s=performance.now(),r=this.animationId,l=t=>{const e=(t-s)/a,r=e*o;i.style.left=r+"px",e<1&&(this.animationId=window.requestAnimationFrame(l)),D.setAnimationID(n,this.animationId)};return this.animationId=window.requestAnimationFrame(l),r}))}stop(t){return V(this,void 0,void 0,(function*(){cancelAnimationFrame(t)}))}reset(t,e){return V(this,void 0,void 0,(function*(){const n=D.getAnimationID(t);cancelAnimationFrame(n),e.style.left="0"}))}setDistance(t){return V(this,void 0,void 0,(function*(){const e=t.firstChild,n=t.getBoundingClientRect().width-e.getBoundingClientRect().width-20;D.allData.distance=n}))}};var U=n(610),F={};F.styleTagTransform=p(),F.setAttributes=d(),F.insert=r().bind(null,"head"),F.domAPI=o(),F.insertStyleElement=u(),e()(U.default,F),U.default&&U.default.locals&&U.default.locals;class J extends P{constructor(t){super(t),this.container=new w(this.node,{tagName:"div",classList:["modal__container"]}),this.close=new b(this.container.node,{tagName:"button",classList:["modal__close"],content:"Close"}),this.message=new w(this.container.node,{tagName:"p",classList:["modal__message"]}),this.node.addEventListener("click",(t=>{t.target===this.container.node&&t.stopPropagation(),t.target===this.node&&q.removeModal()})),this.close.node.addEventListener("click",(()=>q.removeModal()))}}const q=new class{constructor(){this.parantNode=null,this.modal=new J("modal")}appendModal(t){this.modal.message.node.innerText=t,this.parantNode.append(this.modal.node)}removeModal(){this.modal.node.remove()}};var K=n(648),Z={};Z.styleTagTransform=p(),Z.setAttributes=d(),Z.insert=r().bind(null,"head"),Z.domAPI=o(),Z.insertStyleElement=u(),e()(K.default,Z),K.default&&K.default.locals&&K.default.locals;var Q=n(858),Y={};Y.styleTagTransform=p(),Y.setAttributes=d(),Y.insert=r().bind(null,"head"),Y.domAPI=o(),Y.insertStyleElement=u(),e()(Q.default,Y),Q.default&&Q.default.locals&&Q.default.locals;class tt extends w{constructor(t,e="#000"){super(t,{tagName:"div",classList:["winner-icon"]}),this.node.innerHTML=`<svg class="winner-icon__svg" viewBox="0 0 640 512" xmlns="http://www.w3.org/2000/svg">\n      <path fill="${e}" d="M544 192h-16L419.22 56.02A64.025 64.025 0 0 0 369.24 32H155.33c-26.17 0-49.7 15.93-59.42 40.23L48 194.26C20.44 201.4 0 226.21 0 256v112c0\n      8.84 7.16 16 16 16h48c0 53.02 42.98 96 96 96s96-42.98 96-96h128c0 53.02 42.98 96 96 96s96-42.98 96-96h48c8.84 0 16-7.16 16-16v-80c0-53.02-42.98-96-96-96zM160\n      432c-26.47 0-48-21.53-48-48s21.53-48 48-48 48 21.53 48 48-21.53 48-48 48zm72-240H116.93l38.4-96H232v96zm48 0V96h89.24l76.8 96H280zm200\n      240c-26.47 0-48-21.53-48-48s21.53-48 48-48 48 21.53 48 48-21.53 48-48 48z"/></svg>`}}class et extends w{constructor(t,e,n,a){super(t,{tagName:"li",classList:["winner-item"]}),this.index=new w(this.node,{tagName:"p",classList:["winner-item__count"],content:`${this.checkCurrentIndex(a+1)}`}),this.icon=n?new tt(this.node,n.color):null,this.name=new w(this.node,{tagName:"p",classList:["winner-item__name"],content:n.name}),this.wins=new w(this.node,{tagName:"p",classList:["winner-item__wins"],content:`${e.wins}`}),this.time=new w(this.node,{tagName:"p",classList:["winner-item__time"],content:`${e.time}`})}checkCurrentIndex(t){return 10*(D.getWinnersPage()-1)+t}}const nt=new class{constructor(){this.prevWinnersButton=null,this.nextWinnersButton=null,this.counter=null}nextGaragePage(){const t=D.getWinnersPage()+1;D.setWinnersPage(t),it.renderWinners()}prevGaragePage(){const t=D.getWinnersPage()-1;D.setWinnersPage(t),it.renderWinners()}checkGarageButtonStyles(){const t=this.prevWinnersButton,e=this.nextWinnersButton,n=D.getWinnersPage(),a=Math.ceil(D.allData.winnersCount/10);t.disabled=1===n,n===a||D.allData.winnersCount<11?e.disabled=!0:e.disabled=!1,this.counter.innerText=`Page: ${n}`}};var at=function(t,e,n,a){return new(n||(n=Promise))((function(i,o){function s(t){try{l(a.next(t))}catch(t){o(t)}}function r(t){try{l(a.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,r)}l((a=a.apply(t,e||[])).next())}))};const it=new class{constructor(){this.renderContainer=null,this.winnerCounter=null}win(t){return at(this,void 0,void 0,(function*(){const e=D.allData.cars.filter((e=>e.id===t))[0],n=D.getTime(),a=((new Date).getTime()-n)/1e3,i=`${e.name} wins, ${a} sec`;setTimeout((()=>q.appendModal(i)),1500);const o={id:t,wins:1,time:a};yield this.checkWinner(o),this.renderWinners()}))}checkWinner(t){return at(this,void 0,void 0,(function*(){if((yield I.getAllWinners(D.allData.winnersPage)).result.filter((e=>e.id===t.id)).length){const e=yield I.getWinner(t.id);e.result.wins++,t.wins=e.result.wins,t.time=e.result.time<t.time?e.result.time:t.time,yield this.updateWinner(t)}else yield this.createWinner(t)}))}createWinner(t){return at(this,void 0,void 0,(function*(){yield I.createWinner(t)}))}updateWinner(t){return at(this,void 0,void 0,(function*(){yield I.updateWinner(t)}))}renderWinners(){return at(this,void 0,void 0,(function*(){const t=this.renderContainer,e=D.getWinnersPage(),n=D.getSortOrder(),a=D.getSortType(),i=yield I.getAllWinners(e,a,n);D.allData.winnersCount=Number(i.totalCount),t.innerHTML="",i.result.forEach(((e,n)=>at(this,void 0,void 0,(function*(){const a=yield I.getCar(e.id);new et(t,e,a,n)})))),this.winnerCounter.innerText=`Winners - ${i.totalCount}`,nt.checkGarageButtonStyles()}))}sortWin(){return at(this,void 0,void 0,(function*(){const t=D.getSortType(),e=D.getSortOrder();"wins"!==t?(D.setSortType("wins"),D.setSortOrder("DESC")):"ASC"===e?D.setSortOrder("DESC"):D.setSortOrder("ASC")}))}sortTime(){return at(this,void 0,void 0,(function*(){const t=D.getSortType(),e=D.getSortOrder();"time"!==t?(D.setSortType("time"),D.setSortOrder("ASC")):"ASC"===e?D.setSortOrder("DESC"):D.setSortOrder("ASC")}))}};var ot=function(t,e,n,a){return new(n||(n=Promise))((function(i,o){function s(t){try{l(a.next(t))}catch(t){o(t)}}function r(t){try{l(a.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,r)}l((a=a.apply(t,e||[])).next())}))};const st=new class{constructor(){this.updateTextInput=null,this.updateColorInput=null,this.updateButton=null,this.carItemArr=[]}appendOptionsListeners(t){t.createButton.node.addEventListener("click",(()=>ot(this,void 0,void 0,(function*(){const e={color:t.colorCreateInput.node.value,name:t.createInput.node.value.length>0?t.createInput.node.value:this.generateRandomName()};yield I.createCar(e),yield H.renderCars(),H.updateCounter(),t.createInput.node.value="",$.checkGarageButtonStyles()})))),t.generateButton.node.addEventListener("click",(()=>ot(this,void 0,void 0,(function*(){for(let t=0;t<100;t++){const t={color:this.generateRandomColor(),name:this.generateRandomName()};yield I.createCar(t)}H.renderCars(),H.updateCounter(),$.checkGarageButtonStyles()})))),t.updateButton.node.addEventListener("click",(()=>ot(this,void 0,void 0,(function*(){const e=D.allData.updateID,n=this.updateTextInput.value.length?this.updateTextInput.value:this.generateRandomName(),a={color:this.updateColorInput.value,name:n,id:e};yield I.updateCar(a),yield H.renderCars(),t.updateButton.node.disabled=!0,this.updateTextInput.value="",(yield I.getAllWinners(D.allData.winnersPage)).result.filter((t=>t.id===e)).length&&it.renderWinners()})))),t.raceButton.node.addEventListener("click",(()=>ot(this,void 0,void 0,(function*(){t.raceButton.node.disabled=!0;const e=this.carItemArr.map(((t,e)=>ot(this,void 0,void 0,(function*(){t.play.node.disabled=!0,t.pause.node.disabled=!1,X.setDistance(this.carItemArr[e].icon.node);const n=D.allData.cars[e];return I.startEngine(n.id)}))));yield Promise.all(e).then((t=>{t.forEach(((t,e)=>ot(this,void 0,void 0,(function*(){const n=D.allData.cars[e].id,a=yield X.animation(this.carItemArr[e].icon.node,t.res,n);D.setTime((new Date).getTime()),D.setAnimationID(n,a)}))))}));let n=!0;this.carItemArr.forEach(((t,e)=>ot(this,void 0,void 0,(function*(){const t=D.allData.cars[e],a=yield I.isBroken(t.id),i=parseInt(a.url.split("id=")[1]);if(500===a.status||404===a.status){const t=D.getAnimationID(i);yield X.stop(t)}200===a.status&&n&&(n=!1,it.win(i))}))))})))),t.resetButton.node.addEventListener("click",(()=>ot(this,void 0,void 0,(function*(){D.allData.carsCount>1&&(t.raceButton.node.disabled=!1),this.carItemArr.forEach(((t,e)=>ot(this,void 0,void 0,(function*(){t.play.node.disabled=!1,t.pause.node.disabled=!0;const n=D.allData.cars[e].id;yield I.stopEngine(n),yield X.reset(n,t.icon.node.firstChild)}))))}))))}appendCarItemLiseners(t,e){t.remove.node.addEventListener("click",(()=>ot(this,void 0,void 0,(function*(){const t=e.id;yield I.deleteCar(t),yield H.renderCars(),H.updateCounter();const n=this.updateTextInput,a=this.updateButton;n.value="",a.disabled=!0,(yield I.getAllWinners(D.allData.winnersPage)).result.filter((e=>e.id===t)).length&&(yield I.deleteWinner(t),it.renderWinners()),$.removeToPrevPage(),$.checkGarageButtonStyles()})))),t.select.node.addEventListener("click",(()=>{const t=this.updateTextInput,n=this.updateColorInput,a=this.updateButton;t.value=e.name,n.value=e.color,a.disabled=!1,D.allData.updateID=e.id})),t.play.node.addEventListener("click",(()=>ot(this,void 0,void 0,(function*(){t.play.node.disabled=!0,t.pause.node.disabled=!1;const n=yield I.startEngine(e.id);if(X.setDistance(this.carItemArr[0].icon.node),X.animation(t.icon.node,n.res,e.id),500===(yield I.isBroken(e.id)).status){const t=D.getAnimationID(e.id);X.stop(t)}})))),t.pause.node.addEventListener("click",(()=>ot(this,void 0,void 0,(function*(){t.play.node.disabled=!1,t.pause.node.disabled=!0;const n=e.id;yield I.stopEngine(n),X.reset(n,t.icon.node.firstChild)}))))}generateRandomName(){const t=Math.floor(Math.random()*(O.length-1)),e=Math.floor(Math.random()*(j.length-1));return`${O[t]} ${j[e]}`}generateRandomColor(){const t="0123456789ABCDEF";let e="";for(let n=0;n<6;n++)e+=t[Math.floor(Math.random()*(t.length-1))];return"#"+e}};class rt extends w{constructor(t){super(t,{tagName:"div",classList:["options"]}),this.row=new w(this.node,{tagName:"div",classList:["options__row"]}),this.createInput=new B(this.row.node,{tagName:"input",type:"text",classList:["options__input-text"],placeholder:"car name"}),this.colorCreateInput=new B(this.row.node,{tagName:"input",type:"color",classList:["options__input-color"],value:"#ffc261"}),this.createButton=new b(this.row.node,{tagName:"button",classList:["button","options__button"],content:"create"}),this.row=new w(this.node,{tagName:"div",classList:["options__row"]}),this.updateInput=new B(this.row.node,{tagName:"input",type:"text",classList:["options__input-text"],placeholder:"car name"}),st.updateTextInput=this.updateInput.node,this.colorUpdateInput=new B(this.row.node,{tagName:"input",type:"color",classList:["options__input-color"],value:"#ffc261"}),st.updateColorInput=this.colorUpdateInput.node,this.updateButton=new b(this.row.node,{tagName:"button",classList:["button","options__button"],content:"update",disabled:!0}),st.updateButton=this.updateButton.node,this.row=new w(this.node,{tagName:"div",classList:["options__row"]}),this.raceButton=new b(this.row.node,{tagName:"button",classList:["button","options__button"],content:"race"}),this.resetButton=new b(this.row.node,{tagName:"button",classList:["button","options__button"],content:"reset"}),this.generateButton=new b(this.row.node,{tagName:"button",classList:["button","options__button"],content:"generate"}),H.raceButton=this.raceButton.node,st.appendOptionsListeners(this)}}var lt=n(995),dt={};dt.styleTagTransform=p(),dt.setAttributes=d(),dt.insert=r().bind(null,"head"),dt.domAPI=o(),dt.insertStyleElement=u(),e()(lt.default,dt),lt.default&&lt.default.locals&&lt.default.locals;class ct extends w{constructor(t){super(t,{tagName:"h2",classList:["car-count"],content:"Garage - "}),this.counter=new w(this.node,{tagName:"span",classList:["car-count__counter"]}),H.counter=this.counter.node,H.updateCounter()}}var ut=n(953),ht={};ht.styleTagTransform=p(),ht.setAttributes=d(),ht.insert=r().bind(null,"head"),ht.domAPI=o(),ht.insertStyleElement=u(),e()(ut.default,ht),ut.default&&ut.default.locals&&ut.default.locals;class pt extends w{constructor(t){super(t,{tagName:"div",classList:["car-list"]}),this.listTitle=new w(this.node,{tagName:"p",classList:["car-list__title"],content:`Page: ${D.getCarsPage()}`}),this.list=new w(this.node,{tagName:"ul",classList:["car-list__list"]}),H.container=this.list.node,H.renderCars(),$.counter=this.listTitle.node}}var mt=n(38),gt={};gt.styleTagTransform=p(),gt.setAttributes=d(),gt.insert=r().bind(null,"head"),gt.domAPI=o(),gt.insertStyleElement=u(),e()(mt.default,gt),mt.default&&mt.default.locals&&mt.default.locals;class ft extends w{constructor(t){super(t,{tagName:"div",classList:["pagination"]}),this.prevButton=new b(this.node,{tagName:"button",classList:["button","pagination__button"],content:"prev",disabled:!0}),this.nextButton=new b(this.node,{tagName:"button",classList:["button","pagination__button"],content:"next"}),this.nextButton.node.addEventListener("click",(()=>{$.nextGaragePage(),$.checkGarageButtonStyles()})),this.prevButton.node.addEventListener("click",(()=>{$.prevGaragePage(),$.checkGarageButtonStyles()})),$.nextGarageButton=this.nextButton.node,$.prevGarageButton=this.prevButton.node,$.checkGarageButtonStyles()}}var vt=n(109),wt={};wt.styleTagTransform=p(),wt.setAttributes=d(),wt.insert=r().bind(null,"head"),wt.domAPI=o(),wt.insertStyleElement=u(),e()(vt.default,wt),vt.default&&vt.default.locals&&vt.default.locals;var bt=n(572),yt={};yt.styleTagTransform=p(),yt.setAttributes=d(),yt.insert=r().bind(null,"head"),yt.domAPI=o(),yt.insertStyleElement=u(),e()(bt.default,yt),bt.default&&bt.default.locals&&bt.default.locals;class xt extends w{constructor(t){super(t,{tagName:"h2",classList:["winners-page__count"],content:"Winners - 0"}),this.pageCount=new w(t,{tagName:"span",classList:["winners-page__page-count"],content:"Page - 1"}),it.winnerCounter=this.node,nt.counter=this.pageCount.node}}var _t=n(637),Ct={};Ct.styleTagTransform=p(),Ct.setAttributes=d(),Ct.insert=r().bind(null,"head"),Ct.domAPI=o(),Ct.insertStyleElement=u(),e()(_t.default,Ct),_t.default&&_t.default.locals&&_t.default.locals;class Lt extends w{constructor(t){super(t,{tagName:"div",classList:["winners-table"]}),this.titleRow=new w(this.node,{tagName:"div",classList:["winners-table__title-row"]}),this.countTitle=new w(this.titleRow.node,{tagName:"div",classList:["winners-table__number-title"],content:"№"}),this.colorTitle=new w(this.titleRow.node,{tagName:"div",classList:["winners-table__color-title"],content:"color"}),this.nameTitle=new w(this.titleRow.node,{tagName:"div",classList:["winners-table__name-title"],content:"name"}),this.winsTitle=new w(this.titleRow.node,{tagName:"div",classList:["winners-table__wins-title"],content:"wins"}),this.timeTitle=new w(this.titleRow.node,{tagName:"div",classList:["winners-table__time-title"],content:"best time"}),this.winnersList=new w(this.node,{tagName:"ul",classList:["winners-table__list"]}),this.winsTitle.node.addEventListener("click",(()=>{it.sortWin(),it.renderWinners()})),this.timeTitle.node.addEventListener("click",(()=>{it.sortTime(),it.renderWinners()})),it.renderContainer=this.winnersList.node,it.renderWinners()}}var St=n(428),Tt={};Tt.styleTagTransform=p(),Tt.setAttributes=d(),Tt.insert=r().bind(null,"head"),Tt.domAPI=o(),Tt.insertStyleElement=u(),e()(St.default,Tt),St.default&&St.default.locals&&St.default.locals;class At extends w{constructor(t){super(t,{tagName:"div",classList:["winners-pagination"]}),this.prevButton=new b(this.node,{tagName:"button",classList:["button","winners-pagination__button"],content:"prev"}),this.nextButton=new b(this.node,{tagName:"button",classList:["button","winners-pagination__button"],content:"next"}),this.nextButton.node.addEventListener("click",(()=>{nt.nextGaragePage(),nt.checkGarageButtonStyles()})),this.prevButton.node.addEventListener("click",(()=>{nt.prevGaragePage(),nt.checkGarageButtonStyles()})),nt.nextWinnersButton=this.nextButton.node,nt.prevWinnersButton=this.prevButton.node,nt.checkGarageButtonStyles()}}const Pt=[{path:"/",template:new class extends P{constructor(t){super(t),this.optionsContainer=new w(this.node,{tagName:"div",classList:["garage__options"]}),this.contentContainer=new w(this.node,{tagName:"div",classList:["garage__content"]}),this.paginationContainer=new w(this.node,{tagName:"div",classList:["garage__pagination"]}),this.options=new rt(this.optionsContainer.node),this.counter=new ct(this.contentContainer.node),this.carList=new pt(this.contentContainer.node),this.pagination=new ft(this.paginationContainer.node),q.parantNode=this.node}}("garage-page")},{path:"/winners",template:new class extends P{constructor(t){super(t),this.titlesContainer=new w(this.node,{tagName:"div",classList:["winners-page__titles"]}),this.tableContainer=new w(this.node,{tagName:"div",classList:["winners-page__table"]}),this.paginationContainer=new w(this.node,{tagName:"div",classList:["winners-page__pagination-buttons"]}),this.title=new xt(this.titlesContainer.node),this.table=new Lt(this.tableContainer.node),this.pagination=new At(this.paginationContainer.node)}}("winners-page")}];(new class{constructor(){this.header=new y(document.body),this.main=new C(document.body),this.router=null}start(){return t=this,e=void 0,a=function*(){const t=D.getCarsPage();yield D.updateGarageState(t),this.router=new L(Pt,this.main.container,[this.header.garageButton,this.header.winnersButton])},new((n=void 0)||(n=Promise))((function(i,o){function s(t){try{l(a.next(t))}catch(t){o(t)}}function r(t){try{l(a.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,r)}l((a=a.apply(t,e||[])).next())}));var t,e,n,a}}).start()})()})();